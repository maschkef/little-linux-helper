# little-linux-helper/config/docker_security.conf
# Copyright (c) 2025 wuldorf
# SPDX-License-Identifier: MIT
#
# This file is part of the 'little-linux-helper' collection.
# Licensed under the MIT License. See the LICENSE file in the project root for more information.
#
# Little Linux Helper - Docker Security Konfiguration

# CFG_LH_DOCKER_COMPOSE_ROOT:
# Der absolute Pfad zum Wurzelverzeichnis, in dem Docker-Compose Projekte gesucht werden sollen.
# Wird nur verwendet wenn CFG_LH_DOCKER_CHECK_MODE="all" ist.
CFG_LH_DOCKER_COMPOSE_ROOT="/opt/containers" # Anmerkung: Aufbau der docker bei mir ist meist in der art nach den Anleitungen auf goneuland.de erstellt, daher dieser Ordner.

# CFG_LH_DOCKER_CHECK_MODE:
# Bestimmt welche Docker-Compose Dateien geprüft werden sollen.
# Verfügbare Optionen:
# - running: Nur Docker-Compose Dateien von aktuell laufenden Containern prüfen (Standard, empfohlen)
# - all:     Alle Docker-Compose Dateien im konfigurierten Verzeichnis prüfen
CFG_LH_DOCKER_CHECK_MODE="running"

# CFG_LH_DOCKER_SKIP_WARNINGS:
# Komma-getrennte Liste von Warnungen die übersprungen werden sollen
# Verfügbare Optionen:
# - update-labels: Überspringt Prüfung auf Diun/Watchtower Labels
# - env-permissions: Überspringt .env Dateiberechtigungen
# - dir-permissions: Überspringt Verzeichnisberechtigungen  
# - latest-images: Überspringt Latest-Image Warnungen
# - privileged: Überspringt privileged Container Warnungen
# - host-volumes: Überspringt Host-Volume Mount Hinweise
# - exposed-ports: Überspringt exponierte Port Warnungen
# - capabilities: Überspringt gefährliche Capabilities Warnungen
# - security-opt: Überspringt Security-Opt Deaktivierung Warnungen
# - default-passwords: Überspringt Standard-Passwort Prüfung
# - sensitive-data: Überspringt sensitive Daten Prüfung
CFG_LH_DOCKER_SKIP_WARNINGS="latest-images"

# CFG_LH_DOCKER_CHECK_RUNNING:
# Soll eine Übersicht der laufenden Container angezeigt werden? (true/false)
# Bei 'true' wird 'docker ps' ausgeführt um laufende Container in der Zusammenfassung anzuzeigen
CFG_LH_DOCKER_CHECK_RUNNING="true"

# CFG_LH_DOCKER_DEFAULT_PATTERNS:
# Komma-getrennte Liste von Regex-Patterns für unsichere Default-Werte
# Diese Patterns werden in Docker-Compose Dateien gesucht
# Format: VARIABLE=wert,ANDERE_VAR=standard_wert
CFG_LH_DOCKER_DEFAULT_PATTERNS="PASSWORD=password,MYSQL_ROOT_PASSWORD=root,POSTGRES_PASSWORD=postgres,ADMIN_PASSWORD=admin,POSTGRES_PASSWORD=password,MYSQL_PASSWORD=password,REDIS_PASSWORD=password"

# CFG_LH_DOCKER_EXCLUDE_DIRS:
# Komma-getrennte Liste von Verzeichnisnamen (nicht Pfaden), die bei der Suche nach
# Docker-Compose Dateien übersprungen werden sollen. Diese Namen werden relativ
# zu jedem durchsuchten Verzeichnis geprüft.
# Wird nur verwendet wenn CFG_LH_DOCKER_CHECK_MODE="all" ist.
CFG_LH_DOCKER_EXCLUDE_DIRS="docker,.docker_archive,node_modules,.git,.cache,venv,__pycache__" # Anmerkung: "docker" und ".docker_archive" sind nur spezifisch in meiner Umgebung relevant

# CFG_LH_DOCKER_SEARCH_DEPTH:
# Maximale Tiefe für die Suche nach Docker-Compose Dateien.
# Standardwert ist 3, falls nicht in der Konfiguration gesetzt.
# Wird nur verwendet wenn CFG_LH_DOCKER_CHECK_MODE="all" ist.
CFG_LH_DOCKER_SEARCH_DEPTH="3"

# Beispiel für erweiterte Konfiguration:
# CFG_LH_DOCKER_CHECK_MODE="all"
# CFG_LH_DOCKER_SKIP_WARNINGS="latest-images,host-volumes"
# CFG_LH_DOCKER_CHECK_RUNNING="false"
# CFG_LH_DOCKER_DEFAULT_PATTERNS="API_KEY=test,SECRET=secret,TOKEN=token"