# config/general.conf
# Copyright (c) 2025 maschkef
# SPDX-License-Identifier: MIT
#
# This file is part of the 'little-linux-helper' collection.
# Licensed under the MIT License. See the LICENSE file in the project root for more information.
#
# little-linux-helper General Configuration

# =============================================================================
# LANGUAGE SETTINGS
# =============================================================================

# Supported languages: 
# - de (German) - Full translation support
# - en (English) - Full translation support
# - es (Spanish) - Library translations only (lib/* files)
# - fr (French) - Library translations only (lib/* files)
#
# Note: Spanish and French are partial implementations primarily for testing.
# They have basic library translations but fall back to English for modules
# and main menu items. Full support can be added by translating language files.
#
# Set to "auto" to automatically detect from system locale
# Default: English

CFG_LH_LANG="en"

# =============================================================================
# LOGGING SETTINGS
# =============================================================================

# Log level configuration
# Determines which messages are shown on console and written to log files
# 
# Available levels (in order of verbosity):
# - ERROR: Only critical errors that prevent operation
# - WARN:  Warnings and errors (recommended for normal use)
# - INFO:  Informational messages, warnings and errors (default)
# - DEBUG: All messages including debug information (verbose)
#
# Each level includes all levels above it (ERROR < WARN < INFO < DEBUG)

CFG_LH_LOG_LEVEL="INFO"

# Enable/disable console output (true/false)
# When false, messages are only written to log files
CFG_LH_LOG_TO_CONSOLE="true"

# Enable/disable file logging (true/false) 
# When false, messages are only shown on console
CFG_LH_LOG_TO_FILE="true"

# =============================================================================
# LOG MESSAGE FILE INFO SETTINGS
# =============================================================================

# Configure whether to show the source file name in log messages for each log level
# This helps with debugging by showing which script/module generated each message
# 
# Format: [script_name.sh] message content
# Example: [mod_backup.sh] Backup started successfully

# Show file info for ERROR messages (true/false)
CFG_LH_LOG_SHOW_FILE_ERROR="true"

# Show file info for WARN messages (true/false)  
CFG_LH_LOG_SHOW_FILE_WARN="true"

# Show file info for INFO messages (true/false)
CFG_LH_LOG_SHOW_FILE_INFO="false"

# Show file info for DEBUG messages (true/false)
CFG_LH_LOG_SHOW_FILE_DEBUG="true"

# =============================================================================
# LOG MESSAGE TIMESTAMP SETTINGS
# =============================================================================

# Configure whether to show timestamps in log messages
# This controls timestamp display for ALL log messages globally
# 
# Available options:
# - "full" - Full timestamp: 2025-08-24 13:44:23
# - "time" - Time only: 13:44:23  
# - "none" - No timestamps (clean output)

# Timestamp format for all log messages
CFG_LH_LOG_TIMESTAMP_FORMAT="time"

# =============================================================================
# GUI SETTINGS
# =============================================================================
#
# The GUI provides a modern web-based interface for Little Linux Helper.
# These settings control the GUI server configuration and network access.
#
# Quick Start:
#   ./gui_launcher.sh              - Start with default settings (localhost:3000)
#   ./gui_launcher.sh -n           - Enable network access for other machines
#   ./gui_launcher.sh -p 8080      - Use custom port (short form)
#   ./gui_launcher.sh --port 8080  - Use custom port (long form)
#   ./gui_launcher.sh -h           - Show comprehensive help

# GUI server port (default: 3000)
# The port on which the web GUI will be available
# Valid range: 1-65535
# Can be overridden with -p or --port command line flag
# Examples: "3000", "8080", "80"
CFG_LH_GUI_PORT="3000"

# GUI server host binding (default: localhost - SECURE)
# Controls which network interfaces the GUI server binds to
#
# Security Options:
# - "localhost" - Only accessible from local machine (RECOMMENDED)
#   GUI URL: http://localhost:3000
#   Security: High - No network exposure
#
# - "0.0.0.0" - Accessible from any network interface (USE WITH CAUTION)
#   GUI URL: http://your-ip:3000 and http://localhost:3000
#   Security: Low - Exposed to network, requires firewall configuration
#   Note: Only use on trusted networks or with proper firewall rules
#
# Command Line Override:
# - Use -n or --network flag to temporarily enable network access
# - Use -p or --port flag to override the port setting
# - Command line flags override this configuration file setting
#
# Priority: Command line arguments > config file > built-in defaults
CFG_LH_GUI_HOST="localhost"

# Firewall port opening configuration
# Controls IP restrictions when using the -f/--open-firewall option
#
# Available options:
# - "all" - Allow access from any IP address (0.0.0.0/0)
# - "local" - Allow access from detected local networks only (recommended)
# - Specific IP or CIDR - e.g., "192.168.1.100" or "192.168.1.0/24"
#
# If not configured, the user will be prompted when using -f flag
# Leave empty to always prompt: CFG_LH_GUI_FIREWALL_RESTRICTION=""
CFG_LH_GUI_FIREWALL_RESTRICTION="local"

# GUI authentication settings
#
# Available modes:
#   session - Cookie-based login with CSRF protection (default)
#   basic   - HTTP Basic Auth
#   none    - Only permitted when binding to localhost/127.0.0.1
#
# Credentials:
#   - Set LLH_GUI_USER to the login username
#   - Use LLH_GUI_PASS_HASH with a bcrypt hash (recommended)
#   - LLH_GUI_PASS_PLAIN is for development only; when provided and PASS_HASH
#     is empty, the GUI backend derives a bcrypt hash at startup and logs a warning
#
# Cookies:
#   - LLH_GUI_COOKIE_NAME defaults to "__Host-llh_sess"
#   - LLH_GUI_COOKIE_SECURE should stay "true" when serving over HTTPS
#     (the launcher and backend automatically relax this on localhost when unset)
#
# Cross-origin support:
#   - LLH_GUI_ALLOWED_ORIGINS accepts a comma-separated list of origins that are
#     allowed to perform authenticated requests (useful for development tooling)
#
export LLH_GUI_AUTH_MODE="session"
export LLH_GUI_USER=""
export LLH_GUI_PASS_HASH=""
export LLH_GUI_PASS_PLAIN=""
export LLH_GUI_COOKIE_NAME="__Host-llh_sess"
export LLH_GUI_COOKIE_SECURE="true"
export LLH_GUI_ALLOWED_ORIGINS=""

# =============================================================================
# FUTURE SETTINGS
# =============================================================================
# Additional general settings can be added here as the project grows
# Examples: notification preferences, UI themes, default timeouts, etc.

# =============================================================================
# RELEASE TAG (OPTIONAL)
# =============================================================================
# If set, this release tag will be embedded into backup metadata files so that
# troubleshooting can correlate sessions with published versions. When unset,
# the tooling attempts to derive a tag automatically via `git describe`.
CFG_LH_RELEASE_TAG=""
