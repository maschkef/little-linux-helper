#!/bin/bash
#
# little-linux-helper/lang/en/restarts.sh
# Copyright (c) 2025 wuldorf
# SPDX-License-Identifier: MIT
#
# English language strings for restart module

# Conditional declaration for module files
[[ ! -v MSG_EN ]] && declare -A MSG_EN

# Module title and menu
MSG_EN[RESTART_MODULE_TITLE]="Services & Desktop Restart Options"
MSG_EN[RESTART_BACK_TO_MAIN]="Back to Main Menu"

# Menu items
MSG_EN[RESTART_LOGIN_MANAGER]="Restart Login Manager (All user processes will be terminated!)"
MSG_EN[RESTART_SOUND_SYSTEM]="Restart Sound System"
MSG_EN[RESTART_DESKTOP_ENVIRONMENT]="Restart Desktop Environment"
MSG_EN[RESTART_NETWORK_SERVICES]="Restart Network Services"

# Login Manager restart
MSG_EN[RESTART_LOGIN_MANAGER_STARTING]="Login Manager is being restarted..."
MSG_EN[RESTART_DETECTED_INIT_SYSTEM]="Detected init system: %s"
MSG_EN[RESTART_DM_SERVICE_SYSTEMD_LINK]="Display Manager Service (via systemd link): %s"
MSG_EN[RESTART_DM_SERVICE_GRAPHICAL_TARGET]="Display Manager Service (via graphical.target dependency): %s"
MSG_EN[RESTART_DM_SERVICE_COMMON_SERVICES]="Display Manager Service (found by testing common services): %s"
MSG_EN[RESTART_DM_SERVICE_DEFAULT_FILE]="Display Manager (via /etc/X11/default-display-manager): %s"
MSG_EN[RESTART_DM_COULD_NOT_IDENTIFY]="Could not identify the Display Manager uniquely."
MSG_EN[RESTART_DM_CHECK_MANUALLY]="Please check manually and adjust the service name if necessary."
MSG_EN[RESTART_DM_TRYING_FALLBACK]="Trying fallback to %s..."
MSG_EN[RESTART_DM_CANCELLED]="Login Manager restart cancelled."
MSG_EN[RESTART_DM_WARNING_SESSIONS]="WARNING: Restarting the Login Manager will terminate all running user sessions!"
MSG_EN[RESTART_DM_WARNING_SAVE_DATA]="Make sure you have saved all important data."
MSG_EN[RESTART_DM_CONFIRM]="Do you really want to restart the Login Manager (%s)?"
MSG_EN[RESTART_DM_ATTEMPTING]="Attempting to restart '%s' (service: '%s')..."
MSG_EN[RESTART_DM_SERVICE_NOT_FOUND]="Service %s does not exist or could not be found."
MSG_EN[RESTART_DM_SUCCESS_SYSTEMCTL]="Login Manager (%s) successfully restarted via systemctl."
MSG_EN[RESTART_DM_ERROR_SYSTEMCTL]="ERROR restarting Login Manager (%s) via systemctl."
MSG_EN[RESTART_DM_SUCCESS_UPSTART]="Login Manager (%s) successfully restarted via upstart."
MSG_EN[RESTART_DM_ERROR_UPSTART]="ERROR restarting Login Manager (%s) via upstart."
MSG_EN[RESTART_DM_SUCCESS_SYSVINIT]="Login Manager (%s) successfully restarted via SysVinit."
MSG_EN[RESTART_DM_ERROR_SYSVINIT]="ERROR restarting Login Manager (%s) via SysVinit."
MSG_EN[RESTART_DM_INIT_SCRIPT_NOT_FOUND]="ERROR: Init script /etc/init.d/%s not found."
MSG_EN[RESTART_DM_UNKNOWN_INIT_SYSTEM]="ERROR: Unknown or unsupported init system: %s. Manual restart required."

# Sound System restart
MSG_EN[RESTART_SOUND_STARTING]="Attempting to restart the sound system..."
MSG_EN[RESTART_SOUND_USER_CONTEXT_ERROR]="Could not determine user context, trying sound system restart anyway."
MSG_EN[RESTART_SOUND_PIPEWIRE_ACTIVE]="PipeWire service is active."
MSG_EN[RESTART_SOUND_PULSEAUDIO_ACTIVE]="PulseAudio is active."
MSG_EN[RESTART_SOUND_ALSA_AVAILABLE]="ALSA is available."
MSG_EN[RESTART_SOUND_DETECTED_COMPONENTS]="Detected audio components:"
MSG_EN[RESTART_SOUND_PIPEWIRE_RESTART]="Restarting PipeWire services..."
MSG_EN[RESTART_SOUND_PIPEWIRE_FOUND_SERVICES]="Found active PipeWire services: %s"
MSG_EN[RESTART_SOUND_PIPEWIRE_NO_SERVICES]="No active PipeWire services found via systemctl (or filtering failed), trying standard services: %s"
MSG_EN[RESTART_SOUND_PIPEWIRE_TMPFILE_DATA]="tmpfile contained data, but no '.service' entries after filtering."
MSG_EN[RESTART_SOUND_PIPEWIRE_RESTARTING_SERVICE]="Restarting %s..."
MSG_EN[RESTART_SOUND_PIPEWIRE_ERROR_SERVICE]="Error restarting %s"
MSG_EN[RESTART_SOUND_PIPEWIRE_SUCCESS_SERVICE]="Successfully restarted %s"
MSG_EN[RESTART_SOUND_PIPEWIRE_SUCCESS]="PipeWire services successfully restarted."
MSG_EN[RESTART_SOUND_PIPEWIRE_ERROR_SYSTEMCTL]="Error restarting PipeWire services via systemctl. Trying manual restart..."
MSG_EN[RESTART_SOUND_PIPEWIRE_ERROR_SYSTEMD_TRYING_ALT]="Error restarting via systemd. Trying alternative restart..."
MSG_EN[RESTART_SOUND_PIPEWIRE_MANUAL_ERROR_SERVICE]="Error manually starting %s"
MSG_EN[RESTART_SOUND_PIPEWIRE_MANUAL_SUCCESS_SERVICE]="Manually started %s"
MSG_EN[RESTART_SOUND_PIPEWIRE_MANUAL_SUCCESS]="PipeWire successfully manually restarted."
MSG_EN[RESTART_SOUND_PIPEWIRE_MANUAL_RESTARTED]="PipeWire was manually restarted."
MSG_EN[RESTART_SOUND_PIPEWIRE_DIRECT_START]="Trying direct start of PipeWire programs..."
MSG_EN[RESTART_SOUND_PIPEWIRE_DIRECT_SUCCESS]="PipeWire programs successfully started manually."
MSG_EN[RESTART_SOUND_PIPEWIRE_DIRECT_SUCCESS_CALL]="PipeWire was restarted with direct call."
MSG_EN[RESTART_SOUND_PIPEWIRE_DIRECT_ERROR]="Could not manually restart PipeWire."
MSG_EN[RESTART_SOUND_PIPEWIRE_PROGRAMS_ERROR]="Error: Could not start PipeWire programs."
MSG_EN[RESTART_SOUND_PULSEAUDIO_RESTART]="Restarting PulseAudio..."
MSG_EN[RESTART_SOUND_PULSEAUDIO_SUCCESS]="PulseAudio successfully restarted."
MSG_EN[RESTART_SOUND_PULSEAUDIO_ERROR]="Error restarting PulseAudio."
MSG_EN[RESTART_SOUND_PULSEAUDIO_ERROR_RESTART]="Error: Could not restart PulseAudio."
MSG_EN[RESTART_SOUND_ALSA_RELOAD]="Reloading ALSA settings..."
MSG_EN[RESTART_SOUND_ALSA_RESTORED]="ALSA settings restored."
MSG_EN[RESTART_SOUND_ALSA_SERVICES_RESTART]="ALSA services (via systemctl) restarted."
MSG_EN[RESTART_SOUND_ALSA_SERVICES_RESTARTED]="ALSA services were restarted."
MSG_EN[RESTART_SOUND_ALSA_MIXER_RESET]="ALSA mixer reset."
MSG_EN[RESTART_SOUND_ALSA_MIXER_RESET_DONE]="ALSA mixer was reset."
MSG_EN[RESTART_SOUND_ALSA_SETTINGS_RESTORED]="ALSA settings restored."
MSG_EN[RESTART_SOUND_ALSA_SETTINGS_RESTORED_DONE]="ALSA settings were restored."
MSG_EN[RESTART_SOUND_ALSA_ERROR_RESTORE]="Error restoring ALSA settings."
MSG_EN[RESTART_SOUND_ALSA_SERVICES_RESTART_ANYWAY]="ALSA services were restarted anyway."
MSG_EN[RESTART_SOUND_NO_SYSTEM_FOUND]="No known and active sound system could be restarted."
MSG_EN[RESTART_SOUND_ERROR_NO_ACTIVE]="Error: No active sound system could be found or restarted."
MSG_EN[RESTART_SOUND_SUCCESS]="Sound system was restarted."
MSG_EN[RESTART_SOUND_SUCCESS_DONE]="Sound system successfully restarted."

# Desktop Environment restart
MSG_EN[RESTART_DE_STARTING]="Attempting to restart the desktop environment..."
MSG_EN[RESTART_DE_USER_ERROR]="Could not determine desktop user. Aborting."
MSG_EN[RESTART_DE_ERROR_NO_USER]="Error: Could not determine desktop user. Restart is not possible."
MSG_EN[RESTART_DE_ENV_VARS_WARNING]="Necessary environment variables (DISPLAY, XDG_RUNTIME_DIR, DBUS_SESSION_BUS_ADDRESS) could not be determined completely and reliably."
MSG_EN[RESTART_DE_ENV_VARS_LIMITED]="Desktop environment restart might work with limitations."
MSG_EN[RESTART_DE_DETECTED_HEURISTIC]="XDG_CURRENT_DESKTOP not directly determinable, heuristically detected: %s"
MSG_EN[RESTART_DE_DETECTED]="Detected desktop environment (XDG_CURRENT_DESKTOP for %s): %s"
MSG_EN[RESTART_DE_NOT_DETECTED]="Desktop environment could not be determined."
MSG_EN[RESTART_DE_ERROR_NOT_DETECTED]="Error: Desktop environment could not be determined."
MSG_EN[RESTART_DE_WARNING_APPS]="WARNING: Restarting the desktop environment (%s) may affect running applications!"
MSG_EN[RESTART_DE_WARNING_SAVE]="It is recommended to save all important data before restarting."
MSG_EN[RESTART_DE_CONFIRM]="Do you really want to restart the desktop environment (%s)?"
MSG_EN[RESTART_DE_CANCELLED]="Desktop environment restart cancelled."
MSG_EN[RESTART_DE_CHOOSE_TYPE]="Choose the restart type:"
MSG_EN[RESTART_DE_SOFT_RESTART]="Soft restart (tries not to terminate applications)"
MSG_EN[RESTART_DE_HARD_RESTART]="Hard restart (may forcefully terminate desktop components)"
MSG_EN[RESTART_DE_CHOOSE_OPTION]="Choose an option (1-2): "

# KDE Plasma restart
MSG_EN[RESTART_DE_KDE_STARTING]="KDE Plasma is being restarted for user '%s'..."
MSG_EN[RESTART_DE_KDE_PLASMA6_TOOLS]="Plasma 6 tools (kquitapp, kstart) found."
MSG_EN[RESTART_DE_KDE_PLASMA5_TOOLS]="Plasma 5 tools (kquitapp5, kstart5) found."
MSG_EN[RESTART_DE_KDE_NO_TOOLS]="Neither Plasma 5 nor Plasma 6 kquit/kstart tools found. Trying direct plasmashell restart."
MSG_EN[RESTART_DE_KDE_PLASMASHELL_RUNNING]="plasmashell is currently running."
MSG_EN[RESTART_DE_KDE_PLASMASHELL_NOT_RUNNING]="plasmashell is not running - possibly already crashed."
MSG_EN[RESTART_DE_KDE_SERVICE_AVAILABLE]="plasma-plasmashell.service is available."
MSG_EN[RESTART_DE_KDE_SYSTEMCTL_RESTART]="Trying restart via systemctl --user..."
MSG_EN[RESTART_DE_KDE_SYSTEMCTL_SUCCESS]="plasmashell service successfully restarted via systemctl --user."
MSG_EN[RESTART_DE_KDE_SYSTEMCTL_FAILED]="systemctl --user restart failed."
MSG_EN[RESTART_DE_KDE_DBUS_AVAILABLE]="D-Bus Session is available."
MSG_EN[RESTART_DE_KDE_DBUS_NOT_AVAILABLE]="D-Bus Session not available - kquitapp will probably fail."
MSG_EN[RESTART_DE_KDE_GRACEFUL_SHUTDOWN]="Trying graceful shutdown with '%s plasmashell'..."
MSG_EN[RESTART_DE_KDE_KQUIT_SUCCESS]="'%s plasmashell' executed successfully. Waiting briefly..."
MSG_EN[RESTART_DE_KDE_KQUIT_TERMINATED]="plasmashell was successfully terminated after '%s'."
MSG_EN[RESTART_DE_KDE_KSTART_NEW]="Starting new instance with '%s plasmashell'..."
MSG_EN[RESTART_DE_KDE_KQUIT_STILL_RUNNING]="plasmashell still running after '%s'."
MSG_EN[RESTART_DE_KDE_KQUIT_FAILED]="'%s plasmashell' failed or reached timeout."
MSG_EN[RESTART_DE_KDE_DIRECT_RESTART]="Performing direct restart of plasmashell..."
MSG_EN[RESTART_DE_KDE_KILL_START]="Using direct kill/start approach..."
MSG_EN[RESTART_DE_KDE_TERMINATING]="Terminating plasmashell..."
MSG_EN[RESTART_DE_KDE_STILL_RUNNING_SIGKILL]="plasmashell still running after SIGTERM, trying SIGKILL..."
MSG_EN[RESTART_DE_KDE_STARTING_NEW]="Starting new plasmashell instance..."
MSG_EN[RESTART_DE_KDE_BINARY_NOT_FOUND]="plasmashell binary not found."
MSG_EN[RESTART_DE_KDE_RESTART_SUCCESS]="plasmashell successfully restarted."
MSG_EN[RESTART_DE_KDE_NOT_RUNNING_AFTER]="plasmashell not running after restart."
MSG_EN[RESTART_DE_KDE_ERROR_RESTART]="KDE Plasma could not be reliably restarted."
MSG_EN[RESTART_DE_KDE_ERROR]="Error: KDE Plasma could not be restarted."

# GNOME restart
MSG_EN[RESTART_DE_GNOME_STARTING]="GNOME Shell is being restarted for user '%s'..."
MSG_EN[RESTART_DE_GNOME_WAYLAND_DETECTED]="GNOME under Wayland detected."
MSG_EN[RESTART_DE_GNOME_SOFT_RESTART_DBUS]="Trying soft restart via dbus..."
MSG_EN[RESTART_DE_GNOME_WAYLAND_RESTART_SENT]="Command sent to GNOME Shell (Wayland) to attempt restart."
MSG_EN[RESTART_DE_GNOME_WAYLAND_NO_SAFE_RESTART]="Could not find/execute a safe restart command for GNOME under Wayland."
MSG_EN[RESTART_DE_GNOME_WAYLAND_WARNING]="Warning: GNOME under Wayland cannot be reliably restarted."
MSG_EN[RESTART_DE_GNOME_WAYLAND_LOGOUT_RECOMMENDED]="Logging out and back in is the recommended method for a complete restart."
MSG_EN[RESTART_DE_GNOME_WAYLAND_HARD_RISKY]="Hard restart of GNOME under Wayland is risky and may terminate the session."
MSG_EN[RESTART_DE_GNOME_WAYLAND_HARD_WARNING]="Warning: A hard restart of GNOME under Wayland may terminate the entire session!"
MSG_EN[RESTART_DE_GNOME_WAYLAND_HARD_CONTINUE]="Do you want to continue anyway?"
MSG_EN[RESTART_DE_GNOME_WAYLAND_HARD_TERMINATED]="Command to terminate gnome-shell executed. This will probably end the session."
MSG_EN[RESTART_DE_GNOME_WAYLAND_HARD_CANCELLED]="Hard restart of GNOME under Wayland cancelled."
MSG_EN[RESTART_DE_GNOME_X11_SERVICE_RESTART]="GNOME Shell (X11) service successfully restarted."
MSG_EN[RESTART_DE_GNOME_X11_NO_SERVICE]="GNOME Shell (X11) service not found/active, trying 'killall -HUP gnome-shell'..."
MSG_EN[RESTART_DE_GNOME_X11_SIGHUP_SENT]="SIGHUP sent to gnome-shell."
MSG_EN[RESTART_DE_GNOME_X11_SIGHUP_ERROR]="ERROR: SIGHUP could not be sent to gnome-shell."
MSG_EN[RESTART_DE_GNOME_X11_HARD_RESTART]="Performing hard restart of GNOME Shell (X11)..."
MSG_EN[RESTART_DE_GNOME_X11_REPLACE_EXECUTED]="Command 'gnome-shell --replace' executed."

# Other desktop environments
MSG_EN[RESTART_DE_XFCE_STARTING]="XFCE (xfce4-panel and xfwm4) is being restarted for user '%s'..."
MSG_EN[RESTART_DE_XFCE_COMMANDS_EXECUTED]="Commands to restart xfce4-panel and xfwm4 were executed."
MSG_EN[RESTART_DE_CINNAMON_STARTING]="Cinnamon is being restarted for user '%s'..."
MSG_EN[RESTART_DE_CINNAMON_EXTENSIONS_RELOADED]="Cinnamon extensions reloaded (simulated partial restart)."
MSG_EN[RESTART_DE_CINNAMON_REPLACE_EXECUTED]="Command 'cinnamon --replace' executed."
MSG_EN[RESTART_DE_MATE_STARTING]="MATE (mate-panel and marco) is being restarted for user '%s'..."
MSG_EN[RESTART_DE_MATE_COMMANDS_EXECUTED]="Commands to restart mate-panel and marco were executed."
MSG_EN[RESTART_DE_LXDE_STARTING]="LXDE (lxpanel) is being restarted for user '%s'..."
MSG_EN[RESTART_DE_LXDE_LXPANELCTL_SUCCESS]="lxpanelctl restart successful."
MSG_EN[RESTART_DE_LXDE_LXPANELCTL_FAILED]="lxpanelctl restart failed. Trying manual kill and start."
MSG_EN[RESTART_DE_LXDE_ATTEMPT_EXECUTED]="Attempt to restart lxpanel performed."
MSG_EN[RESTART_DE_LXQT_STARTING]="LXQt (lxqt-panel) is being restarted for user '%s'..."
MSG_EN[RESTART_DE_LXQT_ATTEMPT_EXECUTED]="Attempt to restart lxqt-panel (kill & start)."
MSG_EN[RESTART_DE_UNKNOWN]="Unknown or not directly supported desktop environment: '%s'."
MSG_EN[RESTART_DE_ERROR_UNKNOWN]="Error: Desktop environment '%s' is not directly supported."
MSG_EN[RESTART_DE_SUCCESS]="Desktop environment restart performed."

# Network Services restart
MSG_EN[RESTART_NET_CHECKING]="Network services are being checked..."
MSG_EN[RESTART_NET_NETWORKMANAGER_ACTIVE]="NetworkManager is active."
MSG_EN[RESTART_NET_SYSTEMD_NETWORKD_ACTIVE]="systemd-networkd is active."
MSG_EN[RESTART_NET_DHCPCD_SERVICE_ACTIVE]="dhcpcd.service is active."
MSG_EN[RESTART_NET_DHCPCD_PROCESS_RUNNING]="dhcpcd process is running, but not as systemd service. Restart more complex."
MSG_EN[RESTART_NET_SYSTEMD_RESOLVED_ACTIVE]="systemd-resolved is active."
MSG_EN[RESTART_NET_NETWORKING_SERVICE_ACTIVE]="networking.service is active."
MSG_EN[RESTART_NET_NETWORKING_SCRIPT_FOUND]="Traditional /etc/init.d/networking script found, but not active via systemd."
MSG_EN[RESTART_NET_NO_SERVICES]="No primary supported network services active or detected that can be easily restarted."
MSG_EN[RESTART_NET_FALLBACK_NETWORKING]="Fallback: 'networking' service restarted."
MSG_EN[RESTART_NET_FALLBACK_FAILED]="Fallback restart of 'networking' also not successful or service not available."
MSG_EN[RESTART_NET_NO_SERVICES_FOUND]="No network services could be found that can be restarted."
MSG_EN[RESTART_NET_DETECTED_SERVICES]="Detected active network services"
MSG_EN[RESTART_NET_ALL_SERVICES]="Restart all above mentioned"
MSG_EN[RESTART_NET_CHOOSE_SERVICE]="Choose a service to restart (1-%d): "
MSG_EN[RESTART_NET_INVALID_SELECTION]="Invalid selection."
MSG_EN[RESTART_NET_CANCELLED]="Network services restart cancelled."
MSG_EN[RESTART_NET_ALL_RESTARTING]="All detected network services will be restarted..."
MSG_EN[RESTART_NET_SERVICE_RESTARTING]="Restarting %s..."
MSG_EN[RESTART_NET_WARNING_INTERRUPTION]="WARNING: Restarting network services may interrupt active connections!"
MSG_EN[RESTART_NET_CONFIRM_CONTINUE]="Do you want to continue?"
MSG_EN[RESTART_NET_RESTARTING_SERVICE]="Starting restart of %s..."
MSG_EN[RESTART_NET_SERVICE_SUCCESS]="Successfully restarted %s."
MSG_EN[RESTART_NET_SERVICE_ERROR]="ERROR restarting %s."
MSG_EN[RESTART_NET_ALL_SUCCESS]="Selected network services successfully restarted."
MSG_EN[RESTART_NET_SOME_FAILED]="At least one network service could not be successfully restarted."

# Restarting individual services
MSG_EN[RESTART_SOUND_RESTARTING_SERVICE]="Restarting %s..."
MSG_EN[RESTART_SOUND_SERVICE_ERROR]="Error restarting %s"
MSG_EN[RESTART_SOUND_SERVICE_SUCCESS]="Successfully restarted %s"

# Common messages
MSG_EN[RESTART_CHOOSE_OPTION_PROMPT]="Choose an option: "
MSG_EN[RESTART_INVALID_SELECTION]="Invalid selection. Please try again."
MSG_EN[RESTART_BACK_TO_MAIN_LOG]="Back to main menu."
MSG_EN[RESTART_PRESS_KEY_CONTINUE]="Press any key to continue..."
